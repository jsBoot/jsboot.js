'use strict';(function(){function o(){this._object=h&&!q?new h:new window.ActiveXObject("Microsoft.XMLHTTP");this._listeners=[]}function a(){return new o}function k(e){a.onreadystatechange&&a.onreadystatechange.apply(e);e.dispatchEvent({type:"readystatechange",bubbles:false,cancelable:false,timeStamp:new Date+0})}function p(a){try{a.responseText=a._object.responseText}catch(b){}try{var c=a._object,d=c.responseXML,f=c.responseText;if(i&&f&&d&&!d.documentElement&&c.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/))d=
new window.ActiveXObject("Microsoft.XMLDOM"),d.async=false,d.validateOnParse=false,d.loadXML(f);a.responseXML=d&&(i&&d.parseError!==0||!d.documentElement||d.documentElement&&d.documentElement.tagName=="parsererror")?null:d}catch(h){}try{a.status=a._object.status}catch(g){}try{a.statusText=a._object.statusText}catch(j){}}function l(a){a._object.onreadystatechange=new window.Function}var h=window.XMLHttpRequest,m=!!window.controllers,i=!!window.document.namespaces,q=i&&window.navigator.userAgent.match(/MSIE 7.0/);
a.prototype=o.prototype;if(m&&h.wrapped)a.wrapped=h.wrapped;a.UNSENT=0;a.OPENED=1;a.HEADERS_RECEIVED=2;a.LOADING=3;a.DONE=4;a.prototype.UNSENT=a.UNSENT;a.prototype.OPENED=a.OPENED;a.prototype.HEADERS_RECEIVED=a.HEADERS_RECEIVED;a.prototype.LOADING=a.LOADING;a.prototype.DONE=a.DONE;a.prototype.readyState=a.UNSENT;a.prototype.responseText="";a.prototype.responseXML=null;a.prototype.status=0;a.prototype.statusText="";a.prototype.priority="NORMAL";a.prototype.onreadystatechange=null;a.onreadystatechange=
null;a.onopen=null;a.onsend=null;a.onabort=null;a.prototype.open=function(e,b,c,d,f){var h=e.toLowerCase();if(h=="connect"||h=="trace"||h=="track")throw Error(18);delete this._headers;arguments.length<3&&(c=true);this._async=c;var g=this,j=this.readyState,n=null;i&&c&&(n=function(){j!=a.DONE&&(l(g),g.abort())},window.attachEvent("onunload",n));a.onopen&&a.onopen.apply(this,arguments);arguments.length>4?this._object.open(e,b,c,d,f):arguments.length>3?this._object.open(e,b,c,d):this._object.open(e,
b,c);this.readyState=a.OPENED;k(this);this._object.onreadystatechange=function(){if(!m||c)if(g.readyState=g._object.readyState,p(g),g._aborted)g.readyState=a.UNSENT;else if(g.readyState==a.DONE)delete g._data,l(g),i&&c&&window.detachEvent("onunload",n),j!=g.readyState&&k(g),j=g.readyState}};a.prototype.send=function(e){a.onsend&&a.onsend.apply(this,arguments);arguments.length||(e=null);e&&e.nodeType&&(e=window.XMLSerializer?(new window.XMLSerializer).serializeToString(e):e.xml,this._headers["Content-Type"]||
this._object.setRequestHeader("Content-Type","application/xml"));this._data=e;this._object.send(this._data);if(m&&!this._async){this.readyState=a.OPENED;for(p(this);this.readyState<a.DONE;)if(this.readyState++,k(this),this._aborted)break}};a.prototype.abort=function(){a.onabort&&a.onabort.apply(this,arguments);if(this.readyState>a.UNSENT)this._aborted=true;this._object.abort();l(this);this.readyState=a.UNSENT;delete this._data};a.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()};
a.prototype.getResponseHeader=function(a){return this._object.getResponseHeader(a)};a.prototype.setRequestHeader=function(a,b){if(!this._headers)this._headers={};this._headers[a]=b;return this._object.setRequestHeader(a,b)};a.prototype.addEventListener=function(a,b,c){for(var d=0,f;f=this._listeners[d];d++)if(f[0]==a&&f[1]==b&&f[2]==c)return;this._listeners.push([a,b,c])};a.prototype.removeEventListener=function(a,b,c){for(var d=0,f;f=this._listeners[d];d++)if(f[0]==a&&f[1]==b&&f[2]==c)break;f&&this._listeners.splice(d,
1)};a.prototype.dispatchEvent=function(a){a={type:a.type,target:this,currentTarget:this,eventPhase:2,bubbles:a.bubbles,cancelable:a.cancelable,timeStamp:a.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};a.type=="readystatechange"&&this.onreadystatechange&&(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[a]);for(var b=0,c;c=this._listeners[b];b++)c[0]==a.type&&!c[2]&&(c[1].handleEvent||c[1]).apply(this,[a])};a.prototype.toString=
function(){return"[object XMLHttpRequest]"};a.toString=function(){return"[XMLHttpRequest]"};if(!window.Function.prototype.apply)window.Function.prototype.apply=function(a,b){b||(b=[]);a.__func=this;a.__func(b[0],b[1],b[2],b[3],b[4]);delete a.__func};window.XMLHttpRequest=a})();
