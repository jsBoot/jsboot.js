/*
 <a href="http://www.gnu.org/licenses/agpl-3.0.html">AGPL</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp</a>
 @name strict.js
 @location https://github.com/jsBoot/jsboot.js/blob/master/src/strict.js#74-70c39446998be95596b03bc170b23bba337ce8b4
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp <dev@webitup.fr> (http://www.webitup.fr/lab)</a>
 @name shimer.js
 @location https://github.com/jsBoot/spitfire.js/blob/master/src/shimer.js#111-0f8cc49a5082f7c6a0ca6ae84a9d585ad117fcd2
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp <dev@webitup.fr> (http://www.webitup.fr/lab)</a>
 @name loader.js
 @location https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#111-0f8cc49a5082f7c6a0ca6ae84a9d585ad117fcd2
 <a href="http://www.gnu.org/licenses/agpl-3.0.html">AGPL</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp</a>
 @location https://github.com/jsBoot/jsboot.js/blob/master/src/onegateisopening/gate.js
*/
'use strict';(function(){try{whateverthenameofthis="will crash";try{console.error("Browser doesn't support strict mode!!!")}catch(b){}}catch(a){}}).apply(this);
(function(b){function a(a,d){var c=/^\w+\:\/\//;/^\/\/\/?/.test(a)?a=location.protocol+a:c.test(a)||"/"==a.charAt(0)||(a=(d||"")+a);return c.test(a)?a:("/"==a.charAt(0)?w:p)+a}function f(a,d){for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}function h(a,d,c,e){a.onload=a.onreadystatechange=function(){a.readyState&&"complete"!=a.readyState&&"loaded"!=a.readyState||d[c]||(a.onload=a.onreadystatechange=null,e())}}function m(a){a.ready=a.finished=!0;for(var d=0;d<a.finished_listeners.length;d++)a.finished_listeners[d]();
a.ready_listeners=[];a.finished_listeners=[]}function t(a,c,e,k,l){setTimeout(function(){var b,g=c.real_src,f;if("item"in n){if(!n[0]){setTimeout(arguments.callee,25);return}n=n[0]}b=document.createElement("script");c.type&&(b.type=c.type);c.charset&&(b.charset=c.charset);l?z?(e.elem=b,r?(b.preload=!0,b.onpreload=k):b.onreadystatechange=function(){"loaded"==b.readyState&&k()},b.src=g):l&&0==g.indexOf(w)&&a[d]?(f=new XMLHttpRequest,f.onreadystatechange=function(){4==f.readyState&&(f.onreadystatechange=
function(){},e.text=f.responseText+"\n//@ sourceURL="+g,k())},f.open("GET",g),f.send()):(b.type="text/cache-script",h(b,e,"ready",function(){n.removeChild(b);k()}),b.src=g,n.insertBefore(b,n.firstChild)):(A&&(b.async=!1),h(b,e,"finished",k),b.src=g,n.insertBefore(b,n.firstChild))},0)}function k(){function p(a,d,c){function e(){null!=b&&(b=null,m(c))}var b;s[d.src].finished||(a[l]||(s[d.src].finished=!0),b=c.elem||document.createElement("script"),d.type&&(b.type=d.type),d.charset&&(b.charset=d.charset),
h(b,c,"finished",e),c.elem?c.elem=null:c.text?(b.onload=b.onreadystatechange=null,b.text=c.text):b.src=d.real_src,n.insertBefore(b,n.firstChild),c.text&&e())}function r(d,c,e,b){var k,f,h=function(){c.ready_cb(c,function(){p(d,c,k)})},n=function(){c.finished_cb(c,e)};c.src=a(c.src,d[q]);c.real_src=c.src+(d[g]?(/\?.*$/.test(c.src)?"&_":"?_")+~~(1E9*Math.random())+"=":"");s[c.src]||(s[c.src]={items:[],finished:!1});f=s[c.src].items;d[l]||0==f.length?(k=f[f.length]={ready:!1,finished:!1,ready_listeners:[h],
finished_listeners:[n]},t(d,c,k,b?function(){k.ready=!0;for(var a=0;a<k.ready_listeners.length;a++)k.ready_listeners[a]();k.ready_listeners=[]}:function(){m(k)},b)):(k=f[0],k.finished?n():k.finished_listeners.push(n))}function w(){function a(d,c){d.ready=!0;d.exec_trigger=c;e()}function d(a,c){a.ready=a.finished=!0;a.exec_trigger=null;for(var b=0;b<c.scripts.length;b++)if(!c.scripts[b].finished)return;c.finished=!0;e()}function e(){for(;g<l.length;)if("[object Function]"==Object.prototype.toString.call(l[g]))try{l[g++]()}catch(a){}else{if(!l[g].finished){for(var d=
l[g],c=!1,b=0;b<d.scripts.length;b++)d.scripts[b].ready&&d.scripts[b].exec_trigger&&(c=!0,d.scripts[b].exec_trigger(),d.scripts[b].exec_trigger=null);if(c)continue;break}g++}g==l.length&&(q=h=!1)}var b,k=f(v,{}),l=[],g=0,h=!1,q;b={script:function(){for(var e=0;e<arguments.length;e++){var g=arguments[e],p=arguments[e],n=void 0;"[object Array]"==Object.prototype.toString.call(g)||(p=[g]);for(var m=0;m<p.length;m++)q&&q.scripts||l.push(q={scripts:[],finished:!0}),g=p[m],"[object Function]"==Object.prototype.toString.call(g)&&
(g=g()),g&&("[object Array]"==Object.prototype.toString.call(g)?(n=[].slice.call(g),n.unshift(m,1),[].splice.apply(p,n),m--):("string"==typeof g&&(g={src:g}),g=f(g,{ready:!1,ready_cb:a,finished:!1,finished_cb:d}),q.finished=!1,q.scripts.push(g),r(k,g,q,u&&h),h=!0,k[c]&&b.wait()))}return b},wait:function(){if(0<arguments.length){for(var a=0;a<arguments.length;a++)l.push(arguments[a]);q=l[l.length-1]}else q=!1;e();return b}};return{script:b.script,wait:b.wait,setOptions:function(a){f(a,k);return b}}}
var v={},u=z||C,x=[],s={},y;v[d]=!0;v[c]=!1;v[l]=!1;v[g]=!1;v[q]="";return y={setGlobalDefaults:function(a){f(a,v);return y},setOptions:function(){return w().setOptions.apply(null,arguments)},script:function(){return w().script.apply(null,arguments)},wait:function(){return w().wait.apply(null,arguments)},queueScript:function(){x[x.length]={type:"script",args:[].slice.call(arguments)};return y},queueWait:function(){x[x.length]={type:"wait",args:[].slice.call(arguments)};return y},runQueue:function(){for(var a=
y,d=x.length,c;0<=--d;)c=x.shift(),a=a[c.type].apply(null,c.args);return a},noConflict:function(){b.$LAB=e;return y},sandbox:function(){return k()}}}var e=b.$LAB,d="UseLocalXHR",c="AlwaysPreserveOrder",l="AllowDuplicates",g="CacheBust",q="BasePath",p=/^[^?#]*\//.exec(location.href)[0],w=/^\w+\:\/\/\/?[^\/]+/.exec(p)[0],n=document.head||document.getElementsByTagName("head"),s=b.opera&&"[object Opera]"==Object.prototype.toString.call(b.opera)||"MozAppearance"in document.documentElement.style,u=document.createElement("script"),
r="boolean"==typeof u.preload,z=r||u.readyState&&"uninitialized"==u.readyState,A=!z&&!0===u.async,C=!z&&!A&&!s;b.$LAB=k();(function(a,d,c){null==document.readyState&&document[a]&&(document.readyState="loading",document[a](d,c=function(){document.removeEventListener(d,c,!1);document.readyState="complete"},!1))})("addEventListener","DOMContentLoaded")})(this);
(function(){var b;"undefined"!=typeof head&&(b=function(){return function(a,b){a.push(b);return head.js.apply(head.js,a)}});"undefined"!=typeof YUI&&(b=function(){var a;YUI().use("get",function(b){a=b});a.Get.options.async=!0;return function(){a.Get.js.apply(a.Get,arguments)}});"undefined"!=typeof yepnope&&(b=function(){return function(a,b){var d=a[a.length-1];yepnope({load:a,callback:function(a){d==a&&b()}})}});"undefined"!=typeof requirejs&&(b=function(){return function(a,b){requirejs(a,b)}});var a;
"undefined"!=typeof $LAB&&(a=function(){var a=$LAB.sandbox();this.script=function(b){a=a.script(b);return this};this.wait=function(b){a=b?a.wait(b):a.wait();return this}});a||(a=function(){var a=null,e=[],d=!1,c=b(),l=function(){if(!d&&(d=e.shift()))if(d.uris.length)c(d.uris,function(a){var c=d.callback;d=!1;c&&c(a);l()});else{var a=d.callback;d=!1;a&&a();l()}};this.script=function(d){a&&clearTimeout(a);e.length||e.push({uris:[],callback:!1});e[e.length-1].uris.push(d);a=setTimeout(l,1);return this};
this.wait=function(a){var c=e.length?e[e.length-1]:!1;d&&(c=d);if(!c)return a&&a(),this;c.callback?e.push({uris:[],callback:a}):(c.callback=a,e.push({uris:[],callback:!1}));return this}});a.prototype.fork=function(){return new a};a.prototype.base=function(a){var b=document.getElementsByTagName("script"),d;a=RegExp(a);for(var c=0,l;c<b.length;l=b[c].getAttribute("src"),c++)if(l&&a.test(l)){d=l.split("/");d.pop();d=d.join("/")||"./";break}return d||null};var f=1,h=null;a.prototype.style=function(a,
b){var d=document.getElementsByTagName("head")[0],c=document.createElement("link");c.setAttribute("type","text/css");c.setAttribute("rel","stylesheet");c.setAttribute("data-spitfire-index",f);b&&c.setAttribute("media",b);c.setAttribute("href",a);h||(h=d.lastChild);h&&h.nextSibling?d.insertBefore(c,h.nextSibling):d.appendChild(c);h=c;f++};var m="function"===typeof define&&define.amd,t="object"==typeof exports&&exports;m||t?m&&define("Spitfire/loader",new a):("Spitfire"in this||(this.Spitfire={}),this.Spitfire.loader=
new a)}).apply(this);
(function(){var b="function"===typeof define&&define.amd,a="object"==typeof exports&&exports;b||a?b&&define("Spitfire",a={}):a=this.Spitfire||(this.Spitfire={});var f={},h=[];a.add=function(a,c){c in f||(f[c]=[]);f[c].push(a)};a.use=function(a){if(!(a&&a in f))throw"INVALID_CATEGORY";for(var c=0;c<f[a].length;c++)h.push(f[a][c])};a.boot=function(a){for(var c=[],b=0,e;b<h.length&&(e=h[b]);b++)e.test&&(e.patch?e.patch():c.push("burnscars/"+e.uri+(a?".js":"-min.js")));return c};a.XHR="xhr";a.add({test:!0,
uri:"xmlhttprequest"},a.XHR);a.JSON="json";a.add({test:!0,uri:"json3"},a.JSON);a.UNSAFE="unsafe";a.add({test:!Function.isGenerator,uri:"function.isgenerator"},a.UNSAFE);a.add({test:!Object.preventExtensions||!Object.isSealed||!Object.isFrozen||!Object.seal||!Object.freeze,uri:"es5.shim.unsafe"},a.UNSAFE);a.SAFE="safe";var b=void 0===[].unshift("test")||2!=[1,2].splice(0).length||!Array.isArray||!Array.prototype.forEach||!Array.prototype.map||!Array.prototype.filter||!Array.prototype.every||!Array.prototype.some||
!Array.prototype.reduce||!Array.prototype.reduceRight||!Array.prototype.indexOf||-1!=[0,1].indexOf(1,2)||!Array.prototype.lastIndexOf||-1!=[0,1].lastIndexOf(0,-3),m=!Function.prototype.bind,t=!Object.keys,k=!Date.now||!Date.prototype.toISOString||!Date.parse||-1===(new Date(-621987552E5)).toISOString().indexOf("-000001")||function(){var a=!1;try{a=Date.prototype.toJSON&&null===(new Date(NaN)).toJSON()&&-1!==(new Date(-621987552E5)).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(c){}return!a}(),
e=!!"0".split(void 0,0).length||"".substr&&"b"!=="0b".substr(-1)||!String.prototype.trim||"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff".trim(),b=b||m||t||k||e;a.add({test:Object.freeze&&function(){try{Object.freeze(function(){})}catch(a){return!0}return!1}(),patch:function(){Object.freeze=function(a){return function(c){return"function"==typeof c?c:a(c)}}(Object.freeze)}},a.SAFE);a.add({test:"undefined"==typeof TypeError,
patch:function(){window.TypeError=Error||function(){}}},a.SAFE);a.add({test:!Object.getPrototypeOf,uri:"object.getprototypeof"},a.SAFE);a.add({test:!Object.getOwnPropertyDescriptor,uri:"object.getownpropertydescriptor"},a.SAFE);a.add({test:!Object.getOwnPropertyNames,uri:"object.getownpropertynames"},a.SAFE);a.add({test:!Object.create,uri:"object.create"},a.SAFE);a.add({test:!Object.defineProperty,uri:"object.defineproperty"},a.SAFE);a.add({test:!Object.defineProperties,uri:"object.defineproperties"},
a.SAFE);a.add({test:!Object.isExtensible,uri:"object.isextensible"},a.SAFE);a.add({test:!window.addEventListener,uri:"events"},a.SAFE);a.add({test:!window.localStorage,uri:"localstorage"},a.SAFE);a.add({test:!navigator.geolocation,uri:"geolocation"},a.SAFE);a.add({test:b,uri:"es5.shim"},a.SAFE);a.add({test:!window.JSON,uri:"json3"},a.SAFE);a.add({test:!window.XMLHttpRequest,uri:"xmlhttprequest"},a.SAFE);a.add({test:!window.console||eval("/*@cc_on @_jscript_version <= 9@*/")||!function(){for(var a=
!0,c="log debug info warn error assert".split(" "),b=0;b<c.length;b++)a&=!!window.console[c[b]];return a}(),uri:"console"},a.SAFE);a.use(a.SAFE);a.add({test:!window.requestAnimationFrame||!window.cancelAnimationFrame,uri:"animationframe"},a.SAFE);a.add({test:!Array.from||!Array.of,uri:"es6.array"},a.SAFE);a.add({test:!Math.acosh||!Math.asinh||!Math.atanh||!Math.cosh||!Math.sinh||!Math.tanh||!Math.expm1,uri:"es6.math"},a.SAFE);a.add({test:!Number.isFinite||!Number.isInteger||!Number.isNaN||!Number.toInteger,
uri:"es6.number"},a.SAFE);a.add({test:!Object.getOwnPropertyDescriptors||!Object.getPropertyDescriptor||!Object.getPropertyNames||!Object.is||!Object.isnt,uri:"es6.object"},a.SAFE);a.add({test:!String.prototype.repeat||!String.prototype.startsWith||!String.prototype.endsWith||!String.prototype.contains,uri:"es6.string"},a.SAFE);setTimeout(function(a){if(!a){var c=window.setTimeout;window.setTimeout=function(a,b){var d=Array.prototype.slice.call(arguments);d.shift();d.shift();c(function(){a.apply(this,
d)},b)}}},1,!0)}).apply(this);
(function(){var b=this.simplePostMessage={};"undefined"!=typeof window.opera&&9==parseInt(window.opera.version(),10)&&Event.prototype.__defineGetter__("origin",function(){return"http://"+this.domain});if("postMessage"in window){var a,f=function(a){"addEventListener"in window?window.removeEventListener("message",a,!1):window.detachEvent("onmessage",a)},h=function(a){"addEventListener"in window?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a)};b.postMessage=function(a,c,b){b.postMessage(a,
c.replace(/^([^:]+:\/\/[^\/]+).*/,"$1"))};b.receiveMessage=function(b,c){a&&f(a);a=function(a){if("string"===typeof c&&a.origin!==c||"function"===typeof c&&!1===c(a.origin))return!1;b(a)};h(a)}}else{var m=/^#?\d+&/,t,k,e=1;b.postMessage=function(a,c,b){a="string"===typeof a?encodeURIComponent(a):encodeURIComponent(JSON.stringify(a));b.location=c.replace(/#.*$/,"")+"#"+ +new Date+e++ +"&"+a};b.receiveMessage=function(a){t&&(clearInterval(t),t=null);t=setInterval(function(){var c=document.location.hash;
c!==k&&m.test(c)&&(k=c,a({data:JSON.parse(c.replace(m,""))}))},100)}}}).apply(this);
(function(){for(var b=Spitfire.boot(/jsboot-debug/.test(location.href)),a,f=document.getElementsByTagName("script"),h=0,m;h<f.length;h++)m=f[h].src,/toobsj\.ylno\.si\.ereht\.js/.test(m)&&(a=m.replace(/[^\/]+(?:[#]+)?$/,""));for(f=0;f<b.length;f++)Spitfire.loader.script(a+b[f]);Spitfire.loader.wait(function(){var a=decodeURIComponent(document.location.hash.replace(/^#/,"")),b=function(){var b={id:this.id,readyState:this.readyState};try{b.status=this.status}catch(d){}try{b.responseText=this.responseText}catch(c){}try{b.responseHeaders=
this.getAllResponseHeaders()}catch(f){}simplePostMessage.postMessage(b,a,parent)};simplePostMessage.receiveMessage(function(e){var d=e.data;if("id"in d&&"method"in d&&"url"in d){var c=d.method,f=d.url,g=d.headers;e=d.data;var h=new XMLHttpRequest;h.id=d.id;h.onreadystatechange=b;try{h.open(c,f,!0);for(var p in g)g.hasOwnProperty(p)&&h.setRequestHeader(p,g[p]);h.setRequestHeader("X-Gate-Origin",a.match(/^(http[s]?:\/\/[^\/]+)/).pop());if(e&&"string"==typeof e&&"data:"==e.substr(0,5)){p=e;var m=atob(p.split(",")[1]),
n=p.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(m.length),u=new Uint8Array(s);for(p=0;p<m.length;p++)u[p]=m.charCodeAt(p);var r;try{r=new BlobBuilder}catch(z){try{r=new WebKitBlobBuilder}catch(A){try{r=new MozBlobBuilder}catch(C){}}}r?(r.append(s),e=r.getBlob(n)):e=new Blob([s],{type:n})}h.send(e)}catch(B){throw b.apply(h),console.warn("Something very bad happened deep-down inside!",B),B;}}else console.log("INVALID QUERY",d)},function(){return!0});simplePostMessage.postMessage("ready",
a,parent)})})();
